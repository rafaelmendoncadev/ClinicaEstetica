"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/dashboard/stats/route";
exports.ids = ["app/api/dashboard/stats/route"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "querystring":
/*!******************************!*\
  !*** external "querystring" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("querystring");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdashboard%2Fstats%2Froute&page=%2Fapi%2Fdashboard%2Fstats%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdashboard%2Fstats%2Froute.ts&appDir=C%3A%5CUsers%5CRafael%5COneDrive%5CProjetos%5CClinicaEstetica%5Capp%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CRafael%5COneDrive%5CProjetos%5CClinicaEstetica%5Capp&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdashboard%2Fstats%2Froute&page=%2Fapi%2Fdashboard%2Fstats%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdashboard%2Fstats%2Froute.ts&appDir=C%3A%5CUsers%5CRafael%5COneDrive%5CProjetos%5CClinicaEstetica%5Capp%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CRafael%5COneDrive%5CProjetos%5CClinicaEstetica%5Capp&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_Rafael_OneDrive_Projetos_ClinicaEstetica_app_app_api_dashboard_stats_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/dashboard/stats/route.ts */ \"(rsc)/./app/api/dashboard/stats/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/dashboard/stats/route\",\n        pathname: \"/api/dashboard/stats\",\n        filename: \"route\",\n        bundlePath: \"app/api/dashboard/stats/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\Rafael\\\\OneDrive\\\\Projetos\\\\ClinicaEstetica\\\\app\\\\app\\\\api\\\\dashboard\\\\stats\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_Rafael_OneDrive_Projetos_ClinicaEstetica_app_app_api_dashboard_stats_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/dashboard/stats/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZkYXNoYm9hcmQlMkZzdGF0cyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGZGFzaGJvYXJkJTJGc3RhdHMlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZkYXNoYm9hcmQlMkZzdGF0cyUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNSYWZhZWwlNUNPbmVEcml2ZSU1Q1Byb2pldG9zJTVDQ2xpbmljYUVzdGV0aWNhJTVDYXBwJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUNSYWZhZWwlNUNPbmVEcml2ZSU1Q1Byb2pldG9zJTVDQ2xpbmljYUVzdGV0aWNhJTVDYXBwJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNpRDtBQUM5SDtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL2FwcC8/YWQ5MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFxSYWZhZWxcXFxcT25lRHJpdmVcXFxcUHJvamV0b3NcXFxcQ2xpbmljYUVzdGV0aWNhXFxcXGFwcFxcXFxhcHBcXFxcYXBpXFxcXGRhc2hib2FyZFxcXFxzdGF0c1xcXFxyb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvZGFzaGJvYXJkL3N0YXRzL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvZGFzaGJvYXJkL3N0YXRzXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9kYXNoYm9hcmQvc3RhdHMvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJDOlxcXFxVc2Vyc1xcXFxSYWZhZWxcXFxcT25lRHJpdmVcXFxcUHJvamV0b3NcXFxcQ2xpbmljYUVzdGV0aWNhXFxcXGFwcFxcXFxhcHBcXFxcYXBpXFxcXGRhc2hib2FyZFxcXFxzdGF0c1xcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvZGFzaGJvYXJkL3N0YXRzL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdashboard%2Fstats%2Froute&page=%2Fapi%2Fdashboard%2Fstats%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdashboard%2Fstats%2Froute.ts&appDir=C%3A%5CUsers%5CRafael%5COneDrive%5CProjetos%5CClinicaEstetica%5Capp%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CRafael%5COneDrive%5CProjetos%5CClinicaEstetica%5Capp&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/dashboard/stats/route.ts":
/*!******************************************!*\
  !*** ./app/api/dashboard/stats/route.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   dynamic: () => (/* binding */ dynamic)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth */ \"(rsc)/./node_modules/next-auth/index.js\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/auth */ \"(rsc)/./lib/auth.ts\");\n/* harmony import */ var _lib_localStorage__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/localStorage */ \"(rsc)/./lib/localStorage.ts\");\n\n\n\n\nconst dynamic = \"force-dynamic\";\nasync function GET() {\n    try {\n        const session = await (0,next_auth__WEBPACK_IMPORTED_MODULE_1__.getServerSession)(_lib_auth__WEBPACK_IMPORTED_MODULE_2__.authOptions);\n        if (!session) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Unauthorized\"\n            }, {\n                status: 401\n            });\n        }\n        const today = new Date();\n        today.setHours(0, 0, 0, 0);\n        const tomorrow = new Date(today);\n        tomorrow.setDate(tomorrow.getDate() + 1);\n        const startOfMonth = new Date(today.getFullYear(), today.getMonth(), 1);\n        const endOfMonth = new Date(today.getFullYear(), today.getMonth() + 1, 0);\n        // Buscar estatísticas do localStorage\n        const patients = _lib_localStorage__WEBPACK_IMPORTED_MODULE_3__.db.findAllPatients();\n        const appointments = _lib_localStorage__WEBPACK_IMPORTED_MODULE_3__.db.findAllAppointments();\n        const treatments = _lib_localStorage__WEBPACK_IMPORTED_MODULE_3__.db.findAllTreatments();\n        const procedures = _lib_localStorage__WEBPACK_IMPORTED_MODULE_3__.db.findAllProcedures();\n        const totalPacientes = patients.filter((p)=>p.active).length;\n        const agendamentosHoje = appointments.filter((apt)=>{\n            const aptDate = new Date(apt.date);\n            return aptDate >= today && aptDate < tomorrow;\n        }).length;\n        const receitaMes = treatments.filter((t)=>{\n            const tDate = new Date(t.date);\n            return tDate >= startOfMonth && tDate <= endOfMonth;\n        }).reduce((sum, t)=>sum + (t.totalPaid || 0), 0);\n        const procedimentosAtivos = procedures.filter((p)=>p.active).length;\n        const agendamentosPendentes = appointments.filter((apt)=>apt.status === \"SCHEDULED\").length;\n        const tratamentosRealizados = treatments.length;\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            totalPacientes,\n            agendamentosHoje,\n            receitaMes,\n            procedimentosAtivos,\n            agendamentosPendentes,\n            tratamentosRealizados\n        });\n    } catch (error) {\n        console.error(\"Erro ao buscar estat\\xedsticas:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Erro interno do servidor\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2Rhc2hib2FyZC9zdGF0cy9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQzBDO0FBQ0U7QUFDSjtBQUNEO0FBRWhDLE1BQU1JLFVBQVUsZ0JBQWU7QUFFL0IsZUFBZUM7SUFDcEIsSUFBSTtRQUNGLE1BQU1DLFVBQVUsTUFBTUwsMkRBQWdCQSxDQUFDQyxrREFBV0E7UUFFbEQsSUFBSSxDQUFDSSxTQUFTO1lBQ1osT0FBT04scURBQVlBLENBQUNPLElBQUksQ0FBQztnQkFBRUMsT0FBTztZQUFlLEdBQUc7Z0JBQUVDLFFBQVE7WUFBSTtRQUNwRTtRQUVBLE1BQU1DLFFBQVEsSUFBSUM7UUFDbEJELE1BQU1FLFFBQVEsQ0FBQyxHQUFHLEdBQUcsR0FBRztRQUN4QixNQUFNQyxXQUFXLElBQUlGLEtBQUtEO1FBQzFCRyxTQUFTQyxPQUFPLENBQUNELFNBQVNFLE9BQU8sS0FBSztRQUV0QyxNQUFNQyxlQUFlLElBQUlMLEtBQUtELE1BQU1PLFdBQVcsSUFBSVAsTUFBTVEsUUFBUSxJQUFJO1FBQ3JFLE1BQU1DLGFBQWEsSUFBSVIsS0FBS0QsTUFBTU8sV0FBVyxJQUFJUCxNQUFNUSxRQUFRLEtBQUssR0FBRztRQUV2RSxzQ0FBc0M7UUFDdEMsTUFBTUUsV0FBV2pCLGlEQUFFQSxDQUFDa0IsZUFBZTtRQUNuQyxNQUFNQyxlQUFlbkIsaURBQUVBLENBQUNvQixtQkFBbUI7UUFDM0MsTUFBTUMsYUFBYXJCLGlEQUFFQSxDQUFDc0IsaUJBQWlCO1FBQ3ZDLE1BQU1DLGFBQWF2QixpREFBRUEsQ0FBQ3dCLGlCQUFpQjtRQUV2QyxNQUFNQyxpQkFBaUJSLFNBQVNTLE1BQU0sQ0FBQ0MsQ0FBQUEsSUFBS0EsRUFBRUMsTUFBTSxFQUFFQyxNQUFNO1FBRTVELE1BQU1DLG1CQUFtQlgsYUFBYU8sTUFBTSxDQUFDSyxDQUFBQTtZQUMzQyxNQUFNQyxVQUFVLElBQUl4QixLQUFLdUIsSUFBSUUsSUFBSTtZQUNqQyxPQUFPRCxXQUFXekIsU0FBU3lCLFVBQVV0QjtRQUN2QyxHQUFHbUIsTUFBTTtRQUVULE1BQU1LLGFBQWFiLFdBQ2hCSyxNQUFNLENBQUNTLENBQUFBO1lBQ04sTUFBTUMsUUFBUSxJQUFJNUIsS0FBSzJCLEVBQUVGLElBQUk7WUFDN0IsT0FBT0csU0FBU3ZCLGdCQUFnQnVCLFNBQVNwQjtRQUMzQyxHQUNDcUIsTUFBTSxDQUFDLENBQUNDLEtBQUtILElBQU1HLE1BQU9ILENBQUFBLEVBQUVJLFNBQVMsSUFBSSxJQUFJO1FBRWhELE1BQU1DLHNCQUFzQmpCLFdBQVdHLE1BQU0sQ0FBQ0MsQ0FBQUEsSUFBS0EsRUFBRUMsTUFBTSxFQUFFQyxNQUFNO1FBRW5FLE1BQU1ZLHdCQUF3QnRCLGFBQWFPLE1BQU0sQ0FBQ0ssQ0FBQUEsTUFBT0EsSUFBSXpCLE1BQU0sS0FBSyxhQUFhdUIsTUFBTTtRQUUzRixNQUFNYSx3QkFBd0JyQixXQUFXUSxNQUFNO1FBRS9DLE9BQU9oQyxxREFBWUEsQ0FBQ08sSUFBSSxDQUFDO1lBQ3ZCcUI7WUFDQUs7WUFDQUk7WUFDQU07WUFDQUM7WUFDQUM7UUFDRjtJQUNGLEVBQUUsT0FBT3JDLE9BQU87UUFDZHNDLFFBQVF0QyxLQUFLLENBQUMsbUNBQWdDQTtRQUM5QyxPQUFPUixxREFBWUEsQ0FBQ08sSUFBSSxDQUN0QjtZQUFFQyxPQUFPO1FBQTJCLEdBQ3BDO1lBQUVDLFFBQVE7UUFBSTtJQUVsQjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBwLy4vYXBwL2FwaS9kYXNoYm9hcmQvc3RhdHMvcm91dGUudHM/YzY2ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJ1xuaW1wb3J0IHsgZ2V0U2VydmVyU2Vzc2lvbiB9IGZyb20gJ25leHQtYXV0aCdcbmltcG9ydCB7IGF1dGhPcHRpb25zIH0gZnJvbSAnQC9saWIvYXV0aCdcbmltcG9ydCB7IGRiIH0gZnJvbSAnQC9saWIvbG9jYWxTdG9yYWdlJ1xuXG5leHBvcnQgY29uc3QgZHluYW1pYyA9ICdmb3JjZS1keW5hbWljJ1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKCkge1xuICB0cnkge1xuICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBnZXRTZXJ2ZXJTZXNzaW9uKGF1dGhPcHRpb25zKVxuICAgIFxuICAgIGlmICghc2Vzc2lvbikge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdVbmF1dGhvcml6ZWQnIH0sIHsgc3RhdHVzOiA0MDEgfSlcbiAgICB9XG5cbiAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKClcbiAgICB0b2RheS5zZXRIb3VycygwLCAwLCAwLCAwKVxuICAgIGNvbnN0IHRvbW9ycm93ID0gbmV3IERhdGUodG9kYXkpXG4gICAgdG9tb3Jyb3cuc2V0RGF0ZSh0b21vcnJvdy5nZXREYXRlKCkgKyAxKVxuXG4gICAgY29uc3Qgc3RhcnRPZk1vbnRoID0gbmV3IERhdGUodG9kYXkuZ2V0RnVsbFllYXIoKSwgdG9kYXkuZ2V0TW9udGgoKSwgMSlcbiAgICBjb25zdCBlbmRPZk1vbnRoID0gbmV3IERhdGUodG9kYXkuZ2V0RnVsbFllYXIoKSwgdG9kYXkuZ2V0TW9udGgoKSArIDEsIDApXG5cbiAgICAvLyBCdXNjYXIgZXN0YXTDrXN0aWNhcyBkbyBsb2NhbFN0b3JhZ2VcbiAgICBjb25zdCBwYXRpZW50cyA9IGRiLmZpbmRBbGxQYXRpZW50cygpXG4gICAgY29uc3QgYXBwb2ludG1lbnRzID0gZGIuZmluZEFsbEFwcG9pbnRtZW50cygpXG4gICAgY29uc3QgdHJlYXRtZW50cyA9IGRiLmZpbmRBbGxUcmVhdG1lbnRzKClcbiAgICBjb25zdCBwcm9jZWR1cmVzID0gZGIuZmluZEFsbFByb2NlZHVyZXMoKVxuXG4gICAgY29uc3QgdG90YWxQYWNpZW50ZXMgPSBwYXRpZW50cy5maWx0ZXIocCA9PiBwLmFjdGl2ZSkubGVuZ3RoXG4gICAgXG4gICAgY29uc3QgYWdlbmRhbWVudG9zSG9qZSA9IGFwcG9pbnRtZW50cy5maWx0ZXIoYXB0ID0+IHtcbiAgICAgIGNvbnN0IGFwdERhdGUgPSBuZXcgRGF0ZShhcHQuZGF0ZSlcbiAgICAgIHJldHVybiBhcHREYXRlID49IHRvZGF5ICYmIGFwdERhdGUgPCB0b21vcnJvd1xuICAgIH0pLmxlbmd0aFxuICAgIFxuICAgIGNvbnN0IHJlY2VpdGFNZXMgPSB0cmVhdG1lbnRzXG4gICAgICAuZmlsdGVyKHQgPT4ge1xuICAgICAgICBjb25zdCB0RGF0ZSA9IG5ldyBEYXRlKHQuZGF0ZSlcbiAgICAgICAgcmV0dXJuIHREYXRlID49IHN0YXJ0T2ZNb250aCAmJiB0RGF0ZSA8PSBlbmRPZk1vbnRoXG4gICAgICB9KVxuICAgICAgLnJlZHVjZSgoc3VtLCB0KSA9PiBzdW0gKyAodC50b3RhbFBhaWQgfHwgMCksIDApXG4gICAgXG4gICAgY29uc3QgcHJvY2VkaW1lbnRvc0F0aXZvcyA9IHByb2NlZHVyZXMuZmlsdGVyKHAgPT4gcC5hY3RpdmUpLmxlbmd0aFxuICAgIFxuICAgIGNvbnN0IGFnZW5kYW1lbnRvc1BlbmRlbnRlcyA9IGFwcG9pbnRtZW50cy5maWx0ZXIoYXB0ID0+IGFwdC5zdGF0dXMgPT09ICdTQ0hFRFVMRUQnKS5sZW5ndGhcbiAgICBcbiAgICBjb25zdCB0cmF0YW1lbnRvc1JlYWxpemFkb3MgPSB0cmVhdG1lbnRzLmxlbmd0aFxuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgIHRvdGFsUGFjaWVudGVzLFxuICAgICAgYWdlbmRhbWVudG9zSG9qZSxcbiAgICAgIHJlY2VpdGFNZXMsXG4gICAgICBwcm9jZWRpbWVudG9zQXRpdm9zLFxuICAgICAgYWdlbmRhbWVudG9zUGVuZGVudGVzLFxuICAgICAgdHJhdGFtZW50b3NSZWFsaXphZG9zLFxuICAgIH0pXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJybyBhbyBidXNjYXIgZXN0YXTDrXN0aWNhczonLCBlcnJvcilcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7IGVycm9yOiAnRXJybyBpbnRlcm5vIGRvIHNlcnZpZG9yJyB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKVxuICB9XG59XG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiZ2V0U2VydmVyU2Vzc2lvbiIsImF1dGhPcHRpb25zIiwiZGIiLCJkeW5hbWljIiwiR0VUIiwic2Vzc2lvbiIsImpzb24iLCJlcnJvciIsInN0YXR1cyIsInRvZGF5IiwiRGF0ZSIsInNldEhvdXJzIiwidG9tb3Jyb3ciLCJzZXREYXRlIiwiZ2V0RGF0ZSIsInN0YXJ0T2ZNb250aCIsImdldEZ1bGxZZWFyIiwiZ2V0TW9udGgiLCJlbmRPZk1vbnRoIiwicGF0aWVudHMiLCJmaW5kQWxsUGF0aWVudHMiLCJhcHBvaW50bWVudHMiLCJmaW5kQWxsQXBwb2ludG1lbnRzIiwidHJlYXRtZW50cyIsImZpbmRBbGxUcmVhdG1lbnRzIiwicHJvY2VkdXJlcyIsImZpbmRBbGxQcm9jZWR1cmVzIiwidG90YWxQYWNpZW50ZXMiLCJmaWx0ZXIiLCJwIiwiYWN0aXZlIiwibGVuZ3RoIiwiYWdlbmRhbWVudG9zSG9qZSIsImFwdCIsImFwdERhdGUiLCJkYXRlIiwicmVjZWl0YU1lcyIsInQiLCJ0RGF0ZSIsInJlZHVjZSIsInN1bSIsInRvdGFsUGFpZCIsInByb2NlZGltZW50b3NBdGl2b3MiLCJhZ2VuZGFtZW50b3NQZW5kZW50ZXMiLCJ0cmF0YW1lbnRvc1JlYWxpemFkb3MiLCJjb25zb2xlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/dashboard/stats/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/auth.ts":
/*!*********************!*\
  !*** ./lib/auth.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authOptions: () => (/* binding */ authOptions)\n/* harmony export */ });\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth/providers/credentials */ \"(rsc)/./node_modules/next-auth/providers/credentials.js\");\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./db */ \"(rsc)/./lib/db.ts\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! bcryptjs */ \"(rsc)/./node_modules/bcryptjs/index.js\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\nconst authOptions = {\n    secret: process.env.NEXTAUTH_SECRET || \"clinica-estetica-secret-2024-new-key-v2\",\n    session: {\n        strategy: \"jwt\",\n        maxAge: 30 * 24 * 60 * 60\n    },\n    providers: [\n        (0,next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n            name: \"credentials\",\n            credentials: {\n                email: {\n                    label: \"Email\",\n                    type: \"email\"\n                },\n                password: {\n                    label: \"Password\",\n                    type: \"password\"\n                }\n            },\n            async authorize (credentials) {\n                try {\n                    if (!credentials?.email || !credentials?.password) {\n                        console.log(\"Missing credentials\");\n                        return null;\n                    }\n                    const user = await _db__WEBPACK_IMPORTED_MODULE_1__.prisma.user.findUnique({\n                        where: {\n                            email: credentials.email\n                        }\n                    });\n                    if (!user) {\n                        console.log(\"User not found:\", credentials.email);\n                        return null;\n                    }\n                    if (!user.active) {\n                        console.log(\"User inactive:\", credentials.email);\n                        return null;\n                    }\n                    const isPasswordValid = await bcryptjs__WEBPACK_IMPORTED_MODULE_2___default().compare(credentials.password, user.password);\n                    if (!isPasswordValid) {\n                        console.log(\"Invalid password for:\", credentials.email);\n                        return null;\n                    }\n                    console.log(\"User authenticated successfully:\", user.email);\n                    return {\n                        id: user.id,\n                        email: user.email,\n                        name: user.name,\n                        role: user.role\n                    };\n                } catch (error) {\n                    console.error(\"Auth error:\", error);\n                    return null;\n                }\n            }\n        })\n    ],\n    callbacks: {\n        async jwt ({ token, user }) {\n            if (user) {\n                token.id = user.id;\n                token.role = user.role;\n            }\n            return token;\n        },\n        async session ({ session, token }) {\n            if (token) {\n                session.user = {\n                    ...session.user,\n                    id: token.id,\n                    role: token.role\n                };\n            }\n            return session;\n        }\n    },\n    pages: {\n        signIn: \"/auth/signin\",\n        error: \"/auth/signin\"\n    },\n    debug: \"development\" === \"development\"\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvYXV0aC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUVpRTtBQUNwQztBQUNBO0FBRXRCLE1BQU1HLGNBQStCO0lBQzFDQyxRQUFRQyxRQUFRQyxHQUFHLENBQUNDLGVBQWUsSUFBSTtJQUN2Q0MsU0FBUztRQUNQQyxVQUFVO1FBQ1ZDLFFBQVEsS0FBSyxLQUFLLEtBQUs7SUFDekI7SUFDQUMsV0FBVztRQUNUWCwyRUFBbUJBLENBQUM7WUFDbEJZLE1BQU07WUFDTkMsYUFBYTtnQkFDWEMsT0FBTztvQkFBRUMsT0FBTztvQkFBU0MsTUFBTTtnQkFBUTtnQkFDdkNDLFVBQVU7b0JBQUVGLE9BQU87b0JBQVlDLE1BQU07Z0JBQVc7WUFDbEQ7WUFDQSxNQUFNRSxXQUFVTCxXQUFXO2dCQUN6QixJQUFJO29CQUNGLElBQUksQ0FBQ0EsYUFBYUMsU0FBUyxDQUFDRCxhQUFhSSxVQUFVO3dCQUNqREUsUUFBUUMsR0FBRyxDQUFDO3dCQUNaLE9BQU87b0JBQ1Q7b0JBRUEsTUFBTUMsT0FBTyxNQUFNcEIsdUNBQU1BLENBQUNvQixJQUFJLENBQUNDLFVBQVUsQ0FBQzt3QkFDeENDLE9BQU87NEJBQUVULE9BQU9ELFlBQVlDLEtBQUs7d0JBQUM7b0JBQ3BDO29CQUVBLElBQUksQ0FBQ08sTUFBTTt3QkFDVEYsUUFBUUMsR0FBRyxDQUFDLG1CQUFtQlAsWUFBWUMsS0FBSzt3QkFDaEQsT0FBTztvQkFDVDtvQkFFQSxJQUFJLENBQUNPLEtBQUtHLE1BQU0sRUFBRTt3QkFDaEJMLFFBQVFDLEdBQUcsQ0FBQyxrQkFBa0JQLFlBQVlDLEtBQUs7d0JBQy9DLE9BQU87b0JBQ1Q7b0JBRUEsTUFBTVcsa0JBQWtCLE1BQU12Qix1REFBYyxDQUMxQ1csWUFBWUksUUFBUSxFQUNwQkksS0FBS0osUUFBUTtvQkFHZixJQUFJLENBQUNRLGlCQUFpQjt3QkFDcEJOLFFBQVFDLEdBQUcsQ0FBQyx5QkFBeUJQLFlBQVlDLEtBQUs7d0JBQ3RELE9BQU87b0JBQ1Q7b0JBRUFLLFFBQVFDLEdBQUcsQ0FBQyxvQ0FBb0NDLEtBQUtQLEtBQUs7b0JBQzFELE9BQU87d0JBQ0xhLElBQUlOLEtBQUtNLEVBQUU7d0JBQ1hiLE9BQU9PLEtBQUtQLEtBQUs7d0JBQ2pCRixNQUFNUyxLQUFLVCxJQUFJO3dCQUNmZ0IsTUFBTVAsS0FBS08sSUFBSTtvQkFDakI7Z0JBQ0YsRUFBRSxPQUFPQyxPQUFPO29CQUNkVixRQUFRVSxLQUFLLENBQUMsZUFBZUE7b0JBQzdCLE9BQU87Z0JBQ1Q7WUFDRjtRQUNGO0tBQ0Q7SUFDREMsV0FBVztRQUNULE1BQU1DLEtBQUksRUFBRUMsS0FBSyxFQUFFWCxJQUFJLEVBQUU7WUFDdkIsSUFBSUEsTUFBTTtnQkFDUlcsTUFBTUwsRUFBRSxHQUFHTixLQUFLTSxFQUFFO2dCQUNsQkssTUFBTUosSUFBSSxHQUFHLEtBQWNBLElBQUk7WUFDakM7WUFDQSxPQUFPSTtRQUNUO1FBQ0EsTUFBTXhCLFNBQVEsRUFBRUEsT0FBTyxFQUFFd0IsS0FBSyxFQUFFO1lBQzlCLElBQUlBLE9BQU87Z0JBQ1R4QixRQUFRYSxJQUFJLEdBQUc7b0JBQ2IsR0FBR2IsUUFBUWEsSUFBSTtvQkFDZk0sSUFBSUssTUFBTUwsRUFBRTtvQkFDWkMsTUFBTUksTUFBTUosSUFBSTtnQkFDbEI7WUFDRjtZQUNBLE9BQU9wQjtRQUNUO0lBQ0Y7SUFDQXlCLE9BQU87UUFDTEMsUUFBUTtRQUNSTCxPQUFPO0lBQ1Q7SUFDQU0sT0FBTzlCLGtCQUF5QjtBQUNsQyxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBwLy4vbGliL2F1dGgudHM/YmY3ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCB7IE5leHRBdXRoT3B0aW9ucyB9IGZyb20gJ25leHQtYXV0aCdcbmltcG9ydCBDcmVkZW50aWFsc1Byb3ZpZGVyIGZyb20gJ25leHQtYXV0aC9wcm92aWRlcnMvY3JlZGVudGlhbHMnXG5pbXBvcnQgeyBwcmlzbWEgfSBmcm9tICcuL2RiJ1xuaW1wb3J0IGJjcnlwdCBmcm9tICdiY3J5cHRqcydcblxuZXhwb3J0IGNvbnN0IGF1dGhPcHRpb25zOiBOZXh0QXV0aE9wdGlvbnMgPSB7XG4gIHNlY3JldDogcHJvY2Vzcy5lbnYuTkVYVEFVVEhfU0VDUkVUIHx8ICdjbGluaWNhLWVzdGV0aWNhLXNlY3JldC0yMDI0LW5ldy1rZXktdjInLFxuICBzZXNzaW9uOiB7XG4gICAgc3RyYXRlZ3k6ICdqd3QnLFxuICAgIG1heEFnZTogMzAgKiAyNCAqIDYwICogNjAsIC8vIDMwIGRheXNcbiAgfSxcbiAgcHJvdmlkZXJzOiBbXG4gICAgQ3JlZGVudGlhbHNQcm92aWRlcih7XG4gICAgICBuYW1lOiAnY3JlZGVudGlhbHMnLFxuICAgICAgY3JlZGVudGlhbHM6IHtcbiAgICAgICAgZW1haWw6IHsgbGFiZWw6ICdFbWFpbCcsIHR5cGU6ICdlbWFpbCcgfSxcbiAgICAgICAgcGFzc3dvcmQ6IHsgbGFiZWw6ICdQYXNzd29yZCcsIHR5cGU6ICdwYXNzd29yZCcgfVxuICAgICAgfSxcbiAgICAgIGFzeW5jIGF1dGhvcml6ZShjcmVkZW50aWFscykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmICghY3JlZGVudGlhbHM/LmVtYWlsIHx8ICFjcmVkZW50aWFscz8ucGFzc3dvcmQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdNaXNzaW5nIGNyZWRlbnRpYWxzJylcbiAgICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IHByaXNtYS51c2VyLmZpbmRVbmlxdWUoe1xuICAgICAgICAgICAgd2hlcmU6IHsgZW1haWw6IGNyZWRlbnRpYWxzLmVtYWlsIH0sXG4gICAgICAgICAgfSlcblxuICAgICAgICAgIGlmICghdXNlcikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1VzZXIgbm90IGZvdW5kOicsIGNyZWRlbnRpYWxzLmVtYWlsKVxuICAgICAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoIXVzZXIuYWN0aXZlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnVXNlciBpbmFjdGl2ZTonLCBjcmVkZW50aWFscy5lbWFpbClcbiAgICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgaXNQYXNzd29yZFZhbGlkID0gYXdhaXQgYmNyeXB0LmNvbXBhcmUoXG4gICAgICAgICAgICBjcmVkZW50aWFscy5wYXNzd29yZCxcbiAgICAgICAgICAgIHVzZXIucGFzc3dvcmRcbiAgICAgICAgICApXG5cbiAgICAgICAgICBpZiAoIWlzUGFzc3dvcmRWYWxpZCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0ludmFsaWQgcGFzc3dvcmQgZm9yOicsIGNyZWRlbnRpYWxzLmVtYWlsKVxuICAgICAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zb2xlLmxvZygnVXNlciBhdXRoZW50aWNhdGVkIHN1Y2Nlc3NmdWxseTonLCB1c2VyLmVtYWlsKVxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpZDogdXNlci5pZCxcbiAgICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgICAgICAgbmFtZTogdXNlci5uYW1lLFxuICAgICAgICAgICAgcm9sZTogdXNlci5yb2xlLFxuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdBdXRoIGVycm9yOicsIGVycm9yKVxuICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuICBdLFxuICBjYWxsYmFja3M6IHtcbiAgICBhc3luYyBqd3QoeyB0b2tlbiwgdXNlciB9KSB7XG4gICAgICBpZiAodXNlcikge1xuICAgICAgICB0b2tlbi5pZCA9IHVzZXIuaWRcbiAgICAgICAgdG9rZW4ucm9sZSA9ICh1c2VyIGFzIGFueSkucm9sZVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRva2VuXG4gICAgfSxcbiAgICBhc3luYyBzZXNzaW9uKHsgc2Vzc2lvbiwgdG9rZW4gfSkge1xuICAgICAgaWYgKHRva2VuKSB7XG4gICAgICAgIHNlc3Npb24udXNlciA9IHtcbiAgICAgICAgICAuLi5zZXNzaW9uLnVzZXIsXG4gICAgICAgICAgaWQ6IHRva2VuLmlkIGFzIHN0cmluZyxcbiAgICAgICAgICByb2xlOiB0b2tlbi5yb2xlIGFzIHN0cmluZyxcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHNlc3Npb25cbiAgICB9LFxuICB9LFxuICBwYWdlczoge1xuICAgIHNpZ25JbjogJy9hdXRoL3NpZ25pbicsXG4gICAgZXJyb3I6ICcvYXV0aC9zaWduaW4nLFxuICB9LFxuICBkZWJ1ZzogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcsXG59XG4iXSwibmFtZXMiOlsiQ3JlZGVudGlhbHNQcm92aWRlciIsInByaXNtYSIsImJjcnlwdCIsImF1dGhPcHRpb25zIiwic2VjcmV0IiwicHJvY2VzcyIsImVudiIsIk5FWFRBVVRIX1NFQ1JFVCIsInNlc3Npb24iLCJzdHJhdGVneSIsIm1heEFnZSIsInByb3ZpZGVycyIsIm5hbWUiLCJjcmVkZW50aWFscyIsImVtYWlsIiwibGFiZWwiLCJ0eXBlIiwicGFzc3dvcmQiLCJhdXRob3JpemUiLCJjb25zb2xlIiwibG9nIiwidXNlciIsImZpbmRVbmlxdWUiLCJ3aGVyZSIsImFjdGl2ZSIsImlzUGFzc3dvcmRWYWxpZCIsImNvbXBhcmUiLCJpZCIsInJvbGUiLCJlcnJvciIsImNhbGxiYWNrcyIsImp3dCIsInRva2VuIiwicGFnZXMiLCJzaWduSW4iLCJkZWJ1ZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/auth.ts\n");

/***/ }),

/***/ "(rsc)/./lib/db.ts":
/*!*******************!*\
  !*** ./lib/db.ts ***!
  \*******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   prisma: () => (/* binding */ prisma)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nconst prisma = global.prisma || new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient({\n    log: [\n        \"query\"\n    ]\n});\nif (true) global.prisma = prisma;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvZGIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQzZDO0FBUXRDLE1BQU1DLFNBQ1hDLE9BQU9ELE1BQU0sSUFDYixJQUFJRCx3REFBWUEsQ0FBQztJQUNmRyxLQUFLO1FBQUM7S0FBUTtBQUNoQixHQUFFO0FBRUosSUFBSUMsSUFBeUIsRUFBY0YsT0FBT0QsTUFBTSxHQUFHQSIsInNvdXJjZXMiOlsid2VicGFjazovL2FwcC8uL2xpYi9kYi50cz8xZGYwIl0sInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IHsgUHJpc21hQ2xpZW50IH0gZnJvbSAnQHByaXNtYS9jbGllbnQnXG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgLy8gYWxsb3cgZ2xvYmFsIGB2YXJgIGRlY2xhcmF0aW9uc1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdmFyXG4gIHZhciBwcmlzbWE6IFByaXNtYUNsaWVudCB8IHVuZGVmaW5lZFxufVxuXG5leHBvcnQgY29uc3QgcHJpc21hID1cbiAgZ2xvYmFsLnByaXNtYSB8fFxuICBuZXcgUHJpc21hQ2xpZW50KHtcbiAgICBsb2c6IFsncXVlcnknXSxcbiAgfSlcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIGdsb2JhbC5wcmlzbWEgPSBwcmlzbWFcbiJdLCJuYW1lcyI6WyJQcmlzbWFDbGllbnQiLCJwcmlzbWEiLCJnbG9iYWwiLCJsb2ciLCJwcm9jZXNzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/db.ts\n");

/***/ }),

/***/ "(rsc)/./lib/localStorage.ts":
/*!*****************************!*\
  !*** ./lib/localStorage.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   db: () => (/* binding */ db)\n/* harmony export */ });\n// Chaves do localStorage\nconst STORAGE_KEYS = {\n    USERS: \"clinic_users\",\n    PATIENTS: \"clinic_patients\",\n    PROCEDURES: \"clinic_procedures\",\n    PRODUCTS: \"clinic_products\",\n    APPOINTMENTS: \"clinic_appointments\",\n    TREATMENTS: \"clinic_treatments\",\n    FINANCIAL_RECORDS: \"clinic_financial_records\",\n    STOCK_MOVEMENTS: \"clinic_stock_movements\"\n};\n// Utility functions para localStorage\nclass LocalStorageDB {\n    getItem(key) {\n        if (!this.isClient) return [];\n        try {\n            const item = localStorage.getItem(key);\n            return item ? JSON.parse(item) : [];\n        } catch  {\n            return [];\n        }\n    }\n    setItem(key, data) {\n        if (!this.isClient) return;\n        try {\n            localStorage.setItem(key, JSON.stringify(data));\n        } catch (error) {\n            console.error(`Erro ao salvar no localStorage:`, error);\n        }\n    }\n    generateId() {\n        return Date.now().toString(36) + Math.random().toString(36).substr(2);\n    }\n    parseDate(obj) {\n        if (obj && typeof obj === \"object\") {\n            for(const key in obj){\n                if (typeof obj[key] === \"string\" && (key.includes(\"Date\") || key.includes(\"At\") || key === \"date\")) {\n                    obj[key] = new Date(obj[key]);\n                } else if (typeof obj[key] === \"object\") {\n                    obj[key] = this.parseDate(obj[key]);\n                }\n            }\n        }\n        return obj;\n    }\n    // CRUD genérico\n    create(key, item) {\n        const items = this.getItem(key);\n        const newItem = {\n            ...item,\n            id: this.generateId(),\n            createdAt: new Date(),\n            updatedAt: new Date()\n        };\n        items.push(newItem);\n        this.setItem(key, items);\n        return newItem;\n    }\n    findMany(key) {\n        return this.getItem(key).map((item)=>this.parseDate(item));\n    }\n    findById(key, id) {\n        const items = this.getItem(key);\n        const item = items.find((item)=>item.id === id);\n        return item ? this.parseDate(item) : null;\n    }\n    update(key, id, data) {\n        const items = this.getItem(key);\n        const index = items.findIndex((item)=>item.id === id);\n        if (index === -1) return null;\n        items[index] = {\n            ...items[index],\n            ...data,\n            updatedAt: new Date()\n        };\n        this.setItem(key, items);\n        return this.parseDate(items[index]);\n    }\n    delete(key, id) {\n        const items = this.getItem(key);\n        const initialLength = items.length;\n        const filteredItems = items.filter((item)=>item.id !== id);\n        this.setItem(key, filteredItems);\n        return filteredItems.length < initialLength;\n    }\n    // Users\n    createUser(user) {\n        return this.create(STORAGE_KEYS.USERS, user);\n    }\n    findAllUsers() {\n        return this.findMany(STORAGE_KEYS.USERS);\n    }\n    findUserById(id) {\n        return this.findById(STORAGE_KEYS.USERS, id);\n    }\n    updateUser(id, data) {\n        return this.update(STORAGE_KEYS.USERS, id, data);\n    }\n    deleteUser(id) {\n        return this.delete(STORAGE_KEYS.USERS, id);\n    }\n    // Patients\n    createPatient(patient) {\n        return this.create(STORAGE_KEYS.PATIENTS, patient);\n    }\n    findAllPatients() {\n        return this.findMany(STORAGE_KEYS.PATIENTS);\n    }\n    findPatientById(id) {\n        return this.findById(STORAGE_KEYS.PATIENTS, id);\n    }\n    updatePatient(id, data) {\n        return this.update(STORAGE_KEYS.PATIENTS, id, data);\n    }\n    deletePatient(id) {\n        return this.delete(STORAGE_KEYS.PATIENTS, id);\n    }\n    // Procedures\n    createProcedure(procedure) {\n        return this.create(STORAGE_KEYS.PROCEDURES, procedure);\n    }\n    findAllProcedures() {\n        return this.findMany(STORAGE_KEYS.PROCEDURES);\n    }\n    findProcedureById(id) {\n        return this.findById(STORAGE_KEYS.PROCEDURES, id);\n    }\n    updateProcedure(id, data) {\n        return this.update(STORAGE_KEYS.PROCEDURES, id, data);\n    }\n    deleteProcedure(id) {\n        return this.delete(STORAGE_KEYS.PROCEDURES, id);\n    }\n    // Products\n    createProduct(product) {\n        return this.create(STORAGE_KEYS.PRODUCTS, product);\n    }\n    findAllProducts() {\n        return this.findMany(STORAGE_KEYS.PRODUCTS);\n    }\n    findProductById(id) {\n        return this.findById(STORAGE_KEYS.PRODUCTS, id);\n    }\n    updateProduct(id, data) {\n        return this.update(STORAGE_KEYS.PRODUCTS, id, data);\n    }\n    deleteProduct(id) {\n        return this.delete(STORAGE_KEYS.PRODUCTS, id);\n    }\n    // Appointments\n    createAppointment(appointment) {\n        return this.create(STORAGE_KEYS.APPOINTMENTS, appointment);\n    }\n    findAllAppointments() {\n        const appointments = this.findMany(STORAGE_KEYS.APPOINTMENTS);\n        return appointments.map((appointment)=>({\n                ...appointment,\n                patient: this.findPatientById(appointment.patientId) || undefined,\n                procedure: this.findProcedureById(appointment.procedureId) || undefined,\n                user: this.findUserById(appointment.userId) || undefined\n            }));\n    }\n    findAppointmentById(id) {\n        const appointment = this.findById(STORAGE_KEYS.APPOINTMENTS, id);\n        if (!appointment) return null;\n        return {\n            ...appointment,\n            patient: this.findPatientById(appointment.patientId) || undefined,\n            procedure: this.findProcedureById(appointment.procedureId) || undefined,\n            user: this.findUserById(appointment.userId) || undefined\n        };\n    }\n    updateAppointment(id, data) {\n        return this.update(STORAGE_KEYS.APPOINTMENTS, id, data);\n    }\n    deleteAppointment(id) {\n        return this.delete(STORAGE_KEYS.APPOINTMENTS, id);\n    }\n    // Treatments\n    createTreatment(treatment) {\n        return this.create(STORAGE_KEYS.TREATMENTS, treatment);\n    }\n    findAllTreatments() {\n        const treatments = this.findMany(STORAGE_KEYS.TREATMENTS);\n        return treatments.map((treatment)=>({\n                ...treatment,\n                patient: this.findPatientById(treatment.patientId) || undefined,\n                procedure: this.findProcedureById(treatment.procedureId) || undefined,\n                user: this.findUserById(treatment.userId) || undefined\n            }));\n    }\n    findTreatmentById(id) {\n        const treatment = this.findById(STORAGE_KEYS.TREATMENTS, id);\n        if (!treatment) return null;\n        return {\n            ...treatment,\n            patient: this.findPatientById(treatment.patientId) || undefined,\n            procedure: this.findProcedureById(treatment.procedureId) || undefined,\n            user: this.findUserById(treatment.userId) || undefined\n        };\n    }\n    updateTreatment(id, data) {\n        return this.update(STORAGE_KEYS.TREATMENTS, id, data);\n    }\n    deleteTreatment(id) {\n        return this.delete(STORAGE_KEYS.TREATMENTS, id);\n    }\n    // Financial Records\n    createFinancialRecord(record) {\n        return this.create(STORAGE_KEYS.FINANCIAL_RECORDS, record);\n    }\n    findAllFinancialRecords() {\n        const records = this.findMany(STORAGE_KEYS.FINANCIAL_RECORDS);\n        return records.map((record)=>({\n                ...record,\n                user: this.findUserById(record.userId) || undefined\n            }));\n    }\n    findFinancialRecordById(id) {\n        const record = this.findById(STORAGE_KEYS.FINANCIAL_RECORDS, id);\n        if (!record) return null;\n        return {\n            ...record,\n            user: this.findUserById(record.userId) || undefined\n        };\n    }\n    updateFinancialRecord(id, data) {\n        return this.update(STORAGE_KEYS.FINANCIAL_RECORDS, id, data);\n    }\n    deleteFinancialRecord(id) {\n        return this.delete(STORAGE_KEYS.FINANCIAL_RECORDS, id);\n    }\n    // Stock Movements\n    createStockMovement(movement) {\n        const newMovement = this.create(STORAGE_KEYS.STOCK_MOVEMENTS, movement);\n        // Atualizar o estoque do produto\n        const product = this.findProductById(movement.productId);\n        if (product) {\n            const quantityChange = movement.type === \"IN\" ? movement.quantity : -movement.quantity;\n            this.updateProduct(movement.productId, {\n                currentStock: product.currentStock + quantityChange\n            });\n        }\n        return newMovement;\n    }\n    findAllStockMovements() {\n        const movements = this.findMany(STORAGE_KEYS.STOCK_MOVEMENTS);\n        return movements.map((movement)=>({\n                ...movement,\n                product: this.findProductById(movement.productId) || undefined,\n                user: this.findUserById(movement.userId) || undefined\n            }));\n    }\n    findStockMovementById(id) {\n        const movement = this.findById(STORAGE_KEYS.STOCK_MOVEMENTS, id);\n        if (!movement) return null;\n        return {\n            ...movement,\n            product: this.findProductById(movement.productId) || undefined,\n            user: this.findUserById(movement.userId) || undefined\n        };\n    }\n    // Utility methods\n    clearAllData() {\n        if (!this.isClient) return;\n        Object.values(STORAGE_KEYS).forEach((key)=>{\n            localStorage.removeItem(key);\n        });\n    }\n    exportData() {\n        if (!this.isClient) return \"{}\";\n        const data = Object.fromEntries(Object.entries(STORAGE_KEYS).map(([name, key])=>[\n                name.toLowerCase(),\n                this.getItem(key)\n            ]));\n        return JSON.stringify(data, null, 2);\n    }\n    importData(jsonData) {\n        if (!this.isClient) return false;\n        try {\n            const data = JSON.parse(jsonData);\n            Object.entries(STORAGE_KEYS).forEach(([name, key])=>{\n                const lowerName = name.toLowerCase();\n                if (data[lowerName]) {\n                    this.setItem(key, data[lowerName]);\n                }\n            });\n            return true;\n        } catch  {\n            return false;\n        }\n    }\n    constructor(){\n        this.isClient = \"undefined\" !== \"undefined\";\n    }\n}\n// Singleton instance\nconst db = new LocalStorageDB();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFPLENBQUNOLEtBQUtPLElBQUksQ0FBQ3lHLFVBQVU7Z0JBQ25DO1lBQ0Y7WUFDQSxPQUFPO1FBQ1QsRUFBRSxPQUFNO1lBQ04sT0FBTztRQUNUO0lBQ0Y7O2FBM1ZRL0csV0FBVyxnQkFBa0I7O0FBNFZ2QztBQUVBLHFCQUFxQjtBQUNkLE1BQU1nSCxLQUFLLElBQUluSCxpQkFBZ0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hcHAvLi9saWIvbG9jYWxTdG9yYWdlLnRzPzExZjkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgXG4gIFVzZXIsIFxuICBQYXRpZW50LCBcbiAgUHJvY2VkdXJlLCBcbiAgUHJvZHVjdCwgXG4gIEFwcG9pbnRtZW50LCBcbiAgVHJlYXRtZW50LCBcbiAgRmluYW5jaWFsUmVjb3JkLCBcbiAgU3RvY2tNb3ZlbWVudCBcbn0gZnJvbSAnLi90eXBlcydcblxuLy8gQ2hhdmVzIGRvIGxvY2FsU3RvcmFnZVxuY29uc3QgU1RPUkFHRV9LRVlTID0ge1xuICBVU0VSUzogJ2NsaW5pY191c2VycycsXG4gIFBBVElFTlRTOiAnY2xpbmljX3BhdGllbnRzJyxcbiAgUFJPQ0VEVVJFUzogJ2NsaW5pY19wcm9jZWR1cmVzJyxcbiAgUFJPRFVDVFM6ICdjbGluaWNfcHJvZHVjdHMnLFxuICBBUFBPSU5UTUVOVFM6ICdjbGluaWNfYXBwb2ludG1lbnRzJyxcbiAgVFJFQVRNRU5UUzogJ2NsaW5pY190cmVhdG1lbnRzJyxcbiAgRklOQU5DSUFMX1JFQ09SRFM6ICdjbGluaWNfZmluYW5jaWFsX3JlY29yZHMnLFxuICBTVE9DS19NT1ZFTUVOVFM6ICdjbGluaWNfc3RvY2tfbW92ZW1lbnRzJyxcbn0gYXMgY29uc3RcblxuLy8gVXRpbGl0eSBmdW5jdGlvbnMgcGFyYSBsb2NhbFN0b3JhZ2VcbmNsYXNzIExvY2FsU3RvcmFnZURCIHtcbiAgcHJpdmF0ZSBpc0NsaWVudCA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnXG5cbiAgcHJpdmF0ZSBnZXRJdGVtPFQ+KGtleTogc3RyaW5nKTogVFtdIHtcbiAgICBpZiAoIXRoaXMuaXNDbGllbnQpIHJldHVybiBbXVxuICAgIHRyeSB7XG4gICAgICBjb25zdCBpdGVtID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KVxuICAgICAgcmV0dXJuIGl0ZW0gPyBKU09OLnBhcnNlKGl0ZW0pIDogW11cbiAgICB9IGNhdGNoIHtcbiAgICAgIHJldHVybiBbXVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc2V0SXRlbTxUPihrZXk6IHN0cmluZywgZGF0YTogVFtdKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmlzQ2xpZW50KSByZXR1cm5cbiAgICB0cnkge1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCBKU09OLnN0cmluZ2lmeShkYXRhKSlcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihgRXJybyBhbyBzYWx2YXIgbm8gbG9jYWxTdG9yYWdlOmAsIGVycm9yKVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZ2VuZXJhdGVJZCgpOiBzdHJpbmcge1xuICAgIHJldHVybiBEYXRlLm5vdygpLnRvU3RyaW5nKDM2KSArIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyKVxuICB9XG5cbiAgcHJpdmF0ZSBwYXJzZURhdGUob2JqOiBhbnkpOiBhbnkge1xuICAgIGlmIChvYmogJiYgdHlwZW9mIG9iaiA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xuICAgICAgICBpZiAodHlwZW9mIG9ialtrZXldID09PSAnc3RyaW5nJyAmJiBcbiAgICAgICAgICAgIChrZXkuaW5jbHVkZXMoJ0RhdGUnKSB8fCBrZXkuaW5jbHVkZXMoJ0F0JykgfHwga2V5ID09PSAnZGF0ZScpKSB7XG4gICAgICAgICAgb2JqW2tleV0gPSBuZXcgRGF0ZShvYmpba2V5XSlcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqW2tleV0gPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgb2JqW2tleV0gPSB0aGlzLnBhcnNlRGF0ZShvYmpba2V5XSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb2JqXG4gIH1cblxuICAvLyBDUlVEIGdlbsOpcmljb1xuICBwcml2YXRlIGNyZWF0ZTxUIGV4dGVuZHMgeyBpZDogc3RyaW5nOyBjcmVhdGVkQXQ6IERhdGU7IHVwZGF0ZWRBdDogRGF0ZSB9PihrZXk6IHN0cmluZywgaXRlbTogT21pdDxULCAnaWQnIHwgJ2NyZWF0ZWRBdCcgfCAndXBkYXRlZEF0Jz4pOiBUIHtcbiAgICBjb25zdCBpdGVtcyA9IHRoaXMuZ2V0SXRlbTxUPihrZXkpXG4gICAgY29uc3QgbmV3SXRlbSA9IHtcbiAgICAgIC4uLml0ZW0sXG4gICAgICBpZDogdGhpcy5nZW5lcmF0ZUlkKCksXG4gICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgfSBhcyBUXG4gICAgXG4gICAgaXRlbXMucHVzaChuZXdJdGVtKVxuICAgIHRoaXMuc2V0SXRlbShrZXksIGl0ZW1zKVxuICAgIHJldHVybiBuZXdJdGVtXG4gIH1cblxuICBwcml2YXRlIGZpbmRNYW55PFQ+KGtleTogc3RyaW5nKTogVFtdIHtcbiAgICByZXR1cm4gdGhpcy5nZXRJdGVtPFQ+KGtleSkubWFwKGl0ZW0gPT4gdGhpcy5wYXJzZURhdGUoaXRlbSkpXG4gIH1cblxuICBwcml2YXRlIGZpbmRCeUlkPFQgZXh0ZW5kcyB7IGlkOiBzdHJpbmcgfT4oa2V5OiBzdHJpbmcsIGlkOiBzdHJpbmcpOiBUIHwgbnVsbCB7XG4gICAgY29uc3QgaXRlbXMgPSB0aGlzLmdldEl0ZW08VD4oa2V5KVxuICAgIGNvbnN0IGl0ZW0gPSBpdGVtcy5maW5kKGl0ZW0gPT4gaXRlbS5pZCA9PT0gaWQpXG4gICAgcmV0dXJuIGl0ZW0gPyB0aGlzLnBhcnNlRGF0ZShpdGVtKSA6IG51bGxcbiAgfVxuXG4gIHByaXZhdGUgdXBkYXRlPFQgZXh0ZW5kcyB7IGlkOiBzdHJpbmc7IHVwZGF0ZWRBdDogRGF0ZSB9PihcbiAgICBrZXk6IHN0cmluZywgXG4gICAgaWQ6IHN0cmluZywgXG4gICAgZGF0YTogUGFydGlhbDxPbWl0PFQsICdpZCcgfCAnY3JlYXRlZEF0JyB8ICd1cGRhdGVkQXQnPj5cbiAgKTogVCB8IG51bGwge1xuICAgIGNvbnN0IGl0ZW1zID0gdGhpcy5nZXRJdGVtPFQ+KGtleSlcbiAgICBjb25zdCBpbmRleCA9IGl0ZW1zLmZpbmRJbmRleChpdGVtID0+IGl0ZW0uaWQgPT09IGlkKVxuICAgIFxuICAgIGlmIChpbmRleCA9PT0gLTEpIHJldHVybiBudWxsXG4gICAgXG4gICAgaXRlbXNbaW5kZXhdID0ge1xuICAgICAgLi4uaXRlbXNbaW5kZXhdLFxuICAgICAgLi4uZGF0YSxcbiAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICB9IGFzIFRcbiAgICBcbiAgICB0aGlzLnNldEl0ZW0oa2V5LCBpdGVtcylcbiAgICByZXR1cm4gdGhpcy5wYXJzZURhdGUoaXRlbXNbaW5kZXhdKVxuICB9XG5cbiAgcHJpdmF0ZSBkZWxldGU8VCBleHRlbmRzIHsgaWQ6IHN0cmluZyB9PihrZXk6IHN0cmluZywgaWQ6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGl0ZW1zID0gdGhpcy5nZXRJdGVtPFQ+KGtleSlcbiAgICBjb25zdCBpbml0aWFsTGVuZ3RoID0gaXRlbXMubGVuZ3RoXG4gICAgY29uc3QgZmlsdGVyZWRJdGVtcyA9IGl0ZW1zLmZpbHRlcihpdGVtID0+IGl0ZW0uaWQgIT09IGlkKVxuICAgIFxuICAgIHRoaXMuc2V0SXRlbShrZXksIGZpbHRlcmVkSXRlbXMpXG4gICAgcmV0dXJuIGZpbHRlcmVkSXRlbXMubGVuZ3RoIDwgaW5pdGlhbExlbmd0aFxuICB9XG5cbiAgLy8gVXNlcnNcbiAgY3JlYXRlVXNlcih1c2VyOiBPbWl0PFVzZXIsICdpZCcgfCAnY3JlYXRlZEF0JyB8ICd1cGRhdGVkQXQnPik6IFVzZXIge1xuICAgIHJldHVybiB0aGlzLmNyZWF0ZTxVc2VyPihTVE9SQUdFX0tFWVMuVVNFUlMsIHVzZXIpXG4gIH1cblxuICBmaW5kQWxsVXNlcnMoKTogVXNlcltdIHtcbiAgICByZXR1cm4gdGhpcy5maW5kTWFueTxVc2VyPihTVE9SQUdFX0tFWVMuVVNFUlMpXG4gIH1cblxuICBmaW5kVXNlckJ5SWQoaWQ6IHN0cmluZyk6IFVzZXIgfCBudWxsIHtcbiAgICByZXR1cm4gdGhpcy5maW5kQnlJZDxVc2VyPihTVE9SQUdFX0tFWVMuVVNFUlMsIGlkKVxuICB9XG5cbiAgdXBkYXRlVXNlcihpZDogc3RyaW5nLCBkYXRhOiBQYXJ0aWFsPE9taXQ8VXNlciwgJ2lkJyB8ICdjcmVhdGVkQXQnIHwgJ3VwZGF0ZWRBdCc+Pik6IFVzZXIgfCBudWxsIHtcbiAgICByZXR1cm4gdGhpcy51cGRhdGU8VXNlcj4oU1RPUkFHRV9LRVlTLlVTRVJTLCBpZCwgZGF0YSlcbiAgfVxuXG4gIGRlbGV0ZVVzZXIoaWQ6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmRlbGV0ZTxVc2VyPihTVE9SQUdFX0tFWVMuVVNFUlMsIGlkKVxuICB9XG5cbiAgLy8gUGF0aWVudHNcbiAgY3JlYXRlUGF0aWVudChwYXRpZW50OiBPbWl0PFBhdGllbnQsICdpZCcgfCAnY3JlYXRlZEF0JyB8ICd1cGRhdGVkQXQnPik6IFBhdGllbnQge1xuICAgIHJldHVybiB0aGlzLmNyZWF0ZTxQYXRpZW50PihTVE9SQUdFX0tFWVMuUEFUSUVOVFMsIHBhdGllbnQpXG4gIH1cblxuICBmaW5kQWxsUGF0aWVudHMoKTogUGF0aWVudFtdIHtcbiAgICByZXR1cm4gdGhpcy5maW5kTWFueTxQYXRpZW50PihTVE9SQUdFX0tFWVMuUEFUSUVOVFMpXG4gIH1cblxuICBmaW5kUGF0aWVudEJ5SWQoaWQ6IHN0cmluZyk6IFBhdGllbnQgfCBudWxsIHtcbiAgICByZXR1cm4gdGhpcy5maW5kQnlJZDxQYXRpZW50PihTVE9SQUdFX0tFWVMuUEFUSUVOVFMsIGlkKVxuICB9XG5cbiAgdXBkYXRlUGF0aWVudChpZDogc3RyaW5nLCBkYXRhOiBQYXJ0aWFsPE9taXQ8UGF0aWVudCwgJ2lkJyB8ICdjcmVhdGVkQXQnIHwgJ3VwZGF0ZWRBdCc+Pik6IFBhdGllbnQgfCBudWxsIHtcbiAgICByZXR1cm4gdGhpcy51cGRhdGU8UGF0aWVudD4oU1RPUkFHRV9LRVlTLlBBVElFTlRTLCBpZCwgZGF0YSlcbiAgfVxuXG4gIGRlbGV0ZVBhdGllbnQoaWQ6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmRlbGV0ZTxQYXRpZW50PihTVE9SQUdFX0tFWVMuUEFUSUVOVFMsIGlkKVxuICB9XG5cbiAgLy8gUHJvY2VkdXJlc1xuICBjcmVhdGVQcm9jZWR1cmUocHJvY2VkdXJlOiBPbWl0PFByb2NlZHVyZSwgJ2lkJyB8ICdjcmVhdGVkQXQnIHwgJ3VwZGF0ZWRBdCc+KTogUHJvY2VkdXJlIHtcbiAgICByZXR1cm4gdGhpcy5jcmVhdGU8UHJvY2VkdXJlPihTVE9SQUdFX0tFWVMuUFJPQ0VEVVJFUywgcHJvY2VkdXJlKVxuICB9XG5cbiAgZmluZEFsbFByb2NlZHVyZXMoKTogUHJvY2VkdXJlW10ge1xuICAgIHJldHVybiB0aGlzLmZpbmRNYW55PFByb2NlZHVyZT4oU1RPUkFHRV9LRVlTLlBST0NFRFVSRVMpXG4gIH1cblxuICBmaW5kUHJvY2VkdXJlQnlJZChpZDogc3RyaW5nKTogUHJvY2VkdXJlIHwgbnVsbCB7XG4gICAgcmV0dXJuIHRoaXMuZmluZEJ5SWQ8UHJvY2VkdXJlPihTVE9SQUdFX0tFWVMuUFJPQ0VEVVJFUywgaWQpXG4gIH1cblxuICB1cGRhdGVQcm9jZWR1cmUoaWQ6IHN0cmluZywgZGF0YTogUGFydGlhbDxPbWl0PFByb2NlZHVyZSwgJ2lkJyB8ICdjcmVhdGVkQXQnIHwgJ3VwZGF0ZWRBdCc+Pik6IFByb2NlZHVyZSB8IG51bGwge1xuICAgIHJldHVybiB0aGlzLnVwZGF0ZTxQcm9jZWR1cmU+KFNUT1JBR0VfS0VZUy5QUk9DRURVUkVTLCBpZCwgZGF0YSlcbiAgfVxuXG4gIGRlbGV0ZVByb2NlZHVyZShpZDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuZGVsZXRlPFByb2NlZHVyZT4oU1RPUkFHRV9LRVlTLlBST0NFRFVSRVMsIGlkKVxuICB9XG5cbiAgLy8gUHJvZHVjdHNcbiAgY3JlYXRlUHJvZHVjdChwcm9kdWN0OiBPbWl0PFByb2R1Y3QsICdpZCcgfCAnY3JlYXRlZEF0JyB8ICd1cGRhdGVkQXQnPik6IFByb2R1Y3Qge1xuICAgIHJldHVybiB0aGlzLmNyZWF0ZTxQcm9kdWN0PihTVE9SQUdFX0tFWVMuUFJPRFVDVFMsIHByb2R1Y3QpXG4gIH1cblxuICBmaW5kQWxsUHJvZHVjdHMoKTogUHJvZHVjdFtdIHtcbiAgICByZXR1cm4gdGhpcy5maW5kTWFueTxQcm9kdWN0PihTVE9SQUdFX0tFWVMuUFJPRFVDVFMpXG4gIH1cblxuICBmaW5kUHJvZHVjdEJ5SWQoaWQ6IHN0cmluZyk6IFByb2R1Y3QgfCBudWxsIHtcbiAgICByZXR1cm4gdGhpcy5maW5kQnlJZDxQcm9kdWN0PihTVE9SQUdFX0tFWVMuUFJPRFVDVFMsIGlkKVxuICB9XG5cbiAgdXBkYXRlUHJvZHVjdChpZDogc3RyaW5nLCBkYXRhOiBQYXJ0aWFsPE9taXQ8UHJvZHVjdCwgJ2lkJyB8ICdjcmVhdGVkQXQnIHwgJ3VwZGF0ZWRBdCc+Pik6IFByb2R1Y3QgfCBudWxsIHtcbiAgICByZXR1cm4gdGhpcy51cGRhdGU8UHJvZHVjdD4oU1RPUkFHRV9LRVlTLlBST0RVQ1RTLCBpZCwgZGF0YSlcbiAgfVxuXG4gIGRlbGV0ZVByb2R1Y3QoaWQ6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmRlbGV0ZTxQcm9kdWN0PihTVE9SQUdFX0tFWVMuUFJPRFVDVFMsIGlkKVxuICB9XG5cbiAgLy8gQXBwb2ludG1lbnRzXG4gIGNyZWF0ZUFwcG9pbnRtZW50KGFwcG9pbnRtZW50OiBPbWl0PEFwcG9pbnRtZW50LCAnaWQnIHwgJ2NyZWF0ZWRBdCcgfCAndXBkYXRlZEF0Jz4pOiBBcHBvaW50bWVudCB7XG4gICAgcmV0dXJuIHRoaXMuY3JlYXRlPEFwcG9pbnRtZW50PihTVE9SQUdFX0tFWVMuQVBQT0lOVE1FTlRTLCBhcHBvaW50bWVudClcbiAgfVxuXG4gIGZpbmRBbGxBcHBvaW50bWVudHMoKTogQXBwb2ludG1lbnRbXSB7XG4gICAgY29uc3QgYXBwb2ludG1lbnRzID0gdGhpcy5maW5kTWFueTxBcHBvaW50bWVudD4oU1RPUkFHRV9LRVlTLkFQUE9JTlRNRU5UUylcbiAgICByZXR1cm4gYXBwb2ludG1lbnRzLm1hcChhcHBvaW50bWVudCA9PiAoe1xuICAgICAgLi4uYXBwb2ludG1lbnQsXG4gICAgICBwYXRpZW50OiB0aGlzLmZpbmRQYXRpZW50QnlJZChhcHBvaW50bWVudC5wYXRpZW50SWQpIHx8IHVuZGVmaW5lZCxcbiAgICAgIHByb2NlZHVyZTogdGhpcy5maW5kUHJvY2VkdXJlQnlJZChhcHBvaW50bWVudC5wcm9jZWR1cmVJZCkgfHwgdW5kZWZpbmVkLFxuICAgICAgdXNlcjogdGhpcy5maW5kVXNlckJ5SWQoYXBwb2ludG1lbnQudXNlcklkKSB8fCB1bmRlZmluZWQsXG4gICAgfSkpXG4gIH1cblxuICBmaW5kQXBwb2ludG1lbnRCeUlkKGlkOiBzdHJpbmcpOiBBcHBvaW50bWVudCB8IG51bGwge1xuICAgIGNvbnN0IGFwcG9pbnRtZW50ID0gdGhpcy5maW5kQnlJZDxBcHBvaW50bWVudD4oU1RPUkFHRV9LRVlTLkFQUE9JTlRNRU5UUywgaWQpXG4gICAgaWYgKCFhcHBvaW50bWVudCkgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiB7XG4gICAgICAuLi5hcHBvaW50bWVudCxcbiAgICAgIHBhdGllbnQ6IHRoaXMuZmluZFBhdGllbnRCeUlkKGFwcG9pbnRtZW50LnBhdGllbnRJZCkgfHwgdW5kZWZpbmVkLFxuICAgICAgcHJvY2VkdXJlOiB0aGlzLmZpbmRQcm9jZWR1cmVCeUlkKGFwcG9pbnRtZW50LnByb2NlZHVyZUlkKSB8fCB1bmRlZmluZWQsXG4gICAgICB1c2VyOiB0aGlzLmZpbmRVc2VyQnlJZChhcHBvaW50bWVudC51c2VySWQpIHx8IHVuZGVmaW5lZCxcbiAgICB9XG4gIH1cblxuICB1cGRhdGVBcHBvaW50bWVudChpZDogc3RyaW5nLCBkYXRhOiBQYXJ0aWFsPE9taXQ8QXBwb2ludG1lbnQsICdpZCcgfCAnY3JlYXRlZEF0JyB8ICd1cGRhdGVkQXQnPj4pOiBBcHBvaW50bWVudCB8IG51bGwge1xuICAgIHJldHVybiB0aGlzLnVwZGF0ZTxBcHBvaW50bWVudD4oU1RPUkFHRV9LRVlTLkFQUE9JTlRNRU5UUywgaWQsIGRhdGEpXG4gIH1cblxuICBkZWxldGVBcHBvaW50bWVudChpZDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuZGVsZXRlPEFwcG9pbnRtZW50PihTVE9SQUdFX0tFWVMuQVBQT0lOVE1FTlRTLCBpZClcbiAgfVxuXG4gIC8vIFRyZWF0bWVudHNcbiAgY3JlYXRlVHJlYXRtZW50KHRyZWF0bWVudDogT21pdDxUcmVhdG1lbnQsICdpZCcgfCAnY3JlYXRlZEF0JyB8ICd1cGRhdGVkQXQnPik6IFRyZWF0bWVudCB7XG4gICAgcmV0dXJuIHRoaXMuY3JlYXRlPFRyZWF0bWVudD4oU1RPUkFHRV9LRVlTLlRSRUFUTUVOVFMsIHRyZWF0bWVudClcbiAgfVxuXG4gIGZpbmRBbGxUcmVhdG1lbnRzKCk6IFRyZWF0bWVudFtdIHtcbiAgICBjb25zdCB0cmVhdG1lbnRzID0gdGhpcy5maW5kTWFueTxUcmVhdG1lbnQ+KFNUT1JBR0VfS0VZUy5UUkVBVE1FTlRTKVxuICAgIHJldHVybiB0cmVhdG1lbnRzLm1hcCh0cmVhdG1lbnQgPT4gKHtcbiAgICAgIC4uLnRyZWF0bWVudCxcbiAgICAgIHBhdGllbnQ6IHRoaXMuZmluZFBhdGllbnRCeUlkKHRyZWF0bWVudC5wYXRpZW50SWQpIHx8IHVuZGVmaW5lZCxcbiAgICAgIHByb2NlZHVyZTogdGhpcy5maW5kUHJvY2VkdXJlQnlJZCh0cmVhdG1lbnQucHJvY2VkdXJlSWQpIHx8IHVuZGVmaW5lZCxcbiAgICAgIHVzZXI6IHRoaXMuZmluZFVzZXJCeUlkKHRyZWF0bWVudC51c2VySWQpIHx8IHVuZGVmaW5lZCxcbiAgICB9KSlcbiAgfVxuXG4gIGZpbmRUcmVhdG1lbnRCeUlkKGlkOiBzdHJpbmcpOiBUcmVhdG1lbnQgfCBudWxsIHtcbiAgICBjb25zdCB0cmVhdG1lbnQgPSB0aGlzLmZpbmRCeUlkPFRyZWF0bWVudD4oU1RPUkFHRV9LRVlTLlRSRUFUTUVOVFMsIGlkKVxuICAgIGlmICghdHJlYXRtZW50KSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnRyZWF0bWVudCxcbiAgICAgIHBhdGllbnQ6IHRoaXMuZmluZFBhdGllbnRCeUlkKHRyZWF0bWVudC5wYXRpZW50SWQpIHx8IHVuZGVmaW5lZCxcbiAgICAgIHByb2NlZHVyZTogdGhpcy5maW5kUHJvY2VkdXJlQnlJZCh0cmVhdG1lbnQucHJvY2VkdXJlSWQpIHx8IHVuZGVmaW5lZCxcbiAgICAgIHVzZXI6IHRoaXMuZmluZFVzZXJCeUlkKHRyZWF0bWVudC51c2VySWQpIHx8IHVuZGVmaW5lZCxcbiAgICB9XG4gIH1cblxuICB1cGRhdGVUcmVhdG1lbnQoaWQ6IHN0cmluZywgZGF0YTogUGFydGlhbDxPbWl0PFRyZWF0bWVudCwgJ2lkJyB8ICdjcmVhdGVkQXQnIHwgJ3VwZGF0ZWRBdCc+Pik6IFRyZWF0bWVudCB8IG51bGwge1xuICAgIHJldHVybiB0aGlzLnVwZGF0ZTxUcmVhdG1lbnQ+KFNUT1JBR0VfS0VZUy5UUkVBVE1FTlRTLCBpZCwgZGF0YSlcbiAgfVxuXG4gIGRlbGV0ZVRyZWF0bWVudChpZDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuZGVsZXRlPFRyZWF0bWVudD4oU1RPUkFHRV9LRVlTLlRSRUFUTUVOVFMsIGlkKVxuICB9XG5cbiAgLy8gRmluYW5jaWFsIFJlY29yZHNcbiAgY3JlYXRlRmluYW5jaWFsUmVjb3JkKHJlY29yZDogT21pdDxGaW5hbmNpYWxSZWNvcmQsICdpZCcgfCAnY3JlYXRlZEF0JyB8ICd1cGRhdGVkQXQnPik6IEZpbmFuY2lhbFJlY29yZCB7XG4gICAgcmV0dXJuIHRoaXMuY3JlYXRlPEZpbmFuY2lhbFJlY29yZD4oU1RPUkFHRV9LRVlTLkZJTkFOQ0lBTF9SRUNPUkRTLCByZWNvcmQpXG4gIH1cblxuICBmaW5kQWxsRmluYW5jaWFsUmVjb3JkcygpOiBGaW5hbmNpYWxSZWNvcmRbXSB7XG4gICAgY29uc3QgcmVjb3JkcyA9IHRoaXMuZmluZE1hbnk8RmluYW5jaWFsUmVjb3JkPihTVE9SQUdFX0tFWVMuRklOQU5DSUFMX1JFQ09SRFMpXG4gICAgcmV0dXJuIHJlY29yZHMubWFwKHJlY29yZCA9PiAoe1xuICAgICAgLi4ucmVjb3JkLFxuICAgICAgdXNlcjogdGhpcy5maW5kVXNlckJ5SWQocmVjb3JkLnVzZXJJZCkgfHwgdW5kZWZpbmVkLFxuICAgIH0pKVxuICB9XG5cbiAgZmluZEZpbmFuY2lhbFJlY29yZEJ5SWQoaWQ6IHN0cmluZyk6IEZpbmFuY2lhbFJlY29yZCB8IG51bGwge1xuICAgIGNvbnN0IHJlY29yZCA9IHRoaXMuZmluZEJ5SWQ8RmluYW5jaWFsUmVjb3JkPihTVE9SQUdFX0tFWVMuRklOQU5DSUFMX1JFQ09SRFMsIGlkKVxuICAgIGlmICghcmVjb3JkKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnJlY29yZCxcbiAgICAgIHVzZXI6IHRoaXMuZmluZFVzZXJCeUlkKHJlY29yZC51c2VySWQpIHx8IHVuZGVmaW5lZCxcbiAgICB9XG4gIH1cblxuICB1cGRhdGVGaW5hbmNpYWxSZWNvcmQoaWQ6IHN0cmluZywgZGF0YTogUGFydGlhbDxPbWl0PEZpbmFuY2lhbFJlY29yZCwgJ2lkJyB8ICdjcmVhdGVkQXQnIHwgJ3VwZGF0ZWRBdCc+Pik6IEZpbmFuY2lhbFJlY29yZCB8IG51bGwge1xuICAgIHJldHVybiB0aGlzLnVwZGF0ZTxGaW5hbmNpYWxSZWNvcmQ+KFNUT1JBR0VfS0VZUy5GSU5BTkNJQUxfUkVDT1JEUywgaWQsIGRhdGEpXG4gIH1cblxuICBkZWxldGVGaW5hbmNpYWxSZWNvcmQoaWQ6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmRlbGV0ZTxGaW5hbmNpYWxSZWNvcmQ+KFNUT1JBR0VfS0VZUy5GSU5BTkNJQUxfUkVDT1JEUywgaWQpXG4gIH1cblxuICAvLyBTdG9jayBNb3ZlbWVudHNcbiAgY3JlYXRlU3RvY2tNb3ZlbWVudChtb3ZlbWVudDogT21pdDxTdG9ja01vdmVtZW50LCAnaWQnIHwgJ2NyZWF0ZWRBdCcgfCAndXBkYXRlZEF0Jz4pOiBTdG9ja01vdmVtZW50IHtcbiAgICBjb25zdCBuZXdNb3ZlbWVudCA9IHRoaXMuY3JlYXRlPFN0b2NrTW92ZW1lbnQ+KFNUT1JBR0VfS0VZUy5TVE9DS19NT1ZFTUVOVFMsIG1vdmVtZW50KVxuICAgIFxuICAgIC8vIEF0dWFsaXphciBvIGVzdG9xdWUgZG8gcHJvZHV0b1xuICAgIGNvbnN0IHByb2R1Y3QgPSB0aGlzLmZpbmRQcm9kdWN0QnlJZChtb3ZlbWVudC5wcm9kdWN0SWQpXG4gICAgaWYgKHByb2R1Y3QpIHtcbiAgICAgIGNvbnN0IHF1YW50aXR5Q2hhbmdlID0gbW92ZW1lbnQudHlwZSA9PT0gJ0lOJyA/IG1vdmVtZW50LnF1YW50aXR5IDogLW1vdmVtZW50LnF1YW50aXR5XG4gICAgICB0aGlzLnVwZGF0ZVByb2R1Y3QobW92ZW1lbnQucHJvZHVjdElkLCB7XG4gICAgICAgIGN1cnJlbnRTdG9jazogcHJvZHVjdC5jdXJyZW50U3RvY2sgKyBxdWFudGl0eUNoYW5nZVxuICAgICAgfSlcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIG5ld01vdmVtZW50XG4gIH1cblxuICBmaW5kQWxsU3RvY2tNb3ZlbWVudHMoKTogU3RvY2tNb3ZlbWVudFtdIHtcbiAgICBjb25zdCBtb3ZlbWVudHMgPSB0aGlzLmZpbmRNYW55PFN0b2NrTW92ZW1lbnQ+KFNUT1JBR0VfS0VZUy5TVE9DS19NT1ZFTUVOVFMpXG4gICAgcmV0dXJuIG1vdmVtZW50cy5tYXAobW92ZW1lbnQgPT4gKHtcbiAgICAgIC4uLm1vdmVtZW50LFxuICAgICAgcHJvZHVjdDogdGhpcy5maW5kUHJvZHVjdEJ5SWQobW92ZW1lbnQucHJvZHVjdElkKSB8fCB1bmRlZmluZWQsXG4gICAgICB1c2VyOiB0aGlzLmZpbmRVc2VyQnlJZChtb3ZlbWVudC51c2VySWQpIHx8IHVuZGVmaW5lZCxcbiAgICB9KSlcbiAgfVxuXG4gIGZpbmRTdG9ja01vdmVtZW50QnlJZChpZDogc3RyaW5nKTogU3RvY2tNb3ZlbWVudCB8IG51bGwge1xuICAgIGNvbnN0IG1vdmVtZW50ID0gdGhpcy5maW5kQnlJZDxTdG9ja01vdmVtZW50PihTVE9SQUdFX0tFWVMuU1RPQ0tfTU9WRU1FTlRTLCBpZClcbiAgICBpZiAoIW1vdmVtZW50KSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLm1vdmVtZW50LFxuICAgICAgcHJvZHVjdDogdGhpcy5maW5kUHJvZHVjdEJ5SWQobW92ZW1lbnQucHJvZHVjdElkKSB8fCB1bmRlZmluZWQsXG4gICAgICB1c2VyOiB0aGlzLmZpbmRVc2VyQnlJZChtb3ZlbWVudC51c2VySWQpIHx8IHVuZGVmaW5lZCxcbiAgICB9XG4gIH1cblxuICAvLyBVdGlsaXR5IG1ldGhvZHNcbiAgY2xlYXJBbGxEYXRhKCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5pc0NsaWVudCkgcmV0dXJuXG4gICAgT2JqZWN0LnZhbHVlcyhTVE9SQUdFX0tFWVMpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGtleSlcbiAgICB9KVxuICB9XG5cbiAgZXhwb3J0RGF0YSgpOiBzdHJpbmcge1xuICAgIGlmICghdGhpcy5pc0NsaWVudCkgcmV0dXJuICd7fSdcbiAgICBjb25zdCBkYXRhID0gT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgICAgT2JqZWN0LmVudHJpZXMoU1RPUkFHRV9LRVlTKS5tYXAoKFtuYW1lLCBrZXldKSA9PiBbXG4gICAgICAgIG5hbWUudG9Mb3dlckNhc2UoKSxcbiAgICAgICAgdGhpcy5nZXRJdGVtKGtleSlcbiAgICAgIF0pXG4gICAgKVxuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShkYXRhLCBudWxsLCAyKVxuICB9XG5cbiAgaW1wb3J0RGF0YShqc29uRGF0YTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgaWYgKCF0aGlzLmlzQ2xpZW50KSByZXR1cm4gZmFsc2VcbiAgICB0cnkge1xuICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UoanNvbkRhdGEpXG4gICAgICBPYmplY3QuZW50cmllcyhTVE9SQUdFX0tFWVMpLmZvckVhY2goKFtuYW1lLCBrZXldKSA9PiB7XG4gICAgICAgIGNvbnN0IGxvd2VyTmFtZSA9IG5hbWUudG9Mb3dlckNhc2UoKVxuICAgICAgICBpZiAoZGF0YVtsb3dlck5hbWVdKSB7XG4gICAgICAgICAgdGhpcy5zZXRJdGVtKGtleSwgZGF0YVtsb3dlck5hbWVdKVxuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgcmV0dXJuIHRydWVcbiAgICB9IGNhdGNoIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgfVxufVxuXG4vLyBTaW5nbGV0b24gaW5zdGFuY2VcbmV4cG9ydCBjb25zdCBkYiA9IG5ldyBMb2NhbFN0b3JhZ2VEQigpIl0sIm5hbWVzIjpbIlNUT1JBR0VfS0VZUyIsIlVTRVJTIiwiUEFUSUVOVFMiLCJQUk9DRURVUkVTIiwiUFJPRFVDVFMiLCJBUFBPSU5UTUVOVFMiLCJUUkVBVE1FTlRTIiwiRklOQU5DSUFMX1JFQ09SRFMiLCJTVE9DS19NT1ZFTUVOVFMiLCJMb2NhbFN0b3JhZ2VEQiIsImdldEl0ZW0iLCJrZXkiLCJpc0NsaWVudCIsIml0ZW0iLCJsb2NhbFN0b3JhZ2UiLCJKU09OIiwicGFyc2UiLCJzZXRJdGVtIiwiZGF0YSIsInN0cmluZ2lmeSIsImVycm9yIiwiY29uc29sZSIsImdlbmVyYXRlSWQiLCJEYXRlIiwibm93IiwidG9TdHJpbmciLCJNYXRoIiwicmFuZG9tIiwic3Vic3RyIiwicGFyc2VEYXRlIiwib2JqIiwiaW5jbHVkZXMiLCJjcmVhdGUiLCJpdGVtcyIsIm5ld0l0ZW0iLCJpZCIsImNyZWF0ZWRBdCIsInVwZGF0ZWRBdCIsInB1c2giLCJmaW5kTWFueSIsIm1hcCIsImZpbmRCeUlkIiwiZmluZCIsInVwZGF0ZSIsImluZGV4IiwiZmluZEluZGV4IiwiZGVsZXRlIiwiaW5pdGlhbExlbmd0aCIsImxlbmd0aCIsImZpbHRlcmVkSXRlbXMiLCJmaWx0ZXIiLCJjcmVhdGVVc2VyIiwidXNlciIsImZpbmRBbGxVc2VycyIsImZpbmRVc2VyQnlJZCIsInVwZGF0ZVVzZXIiLCJkZWxldGVVc2VyIiwiY3JlYXRlUGF0aWVudCIsInBhdGllbnQiLCJmaW5kQWxsUGF0aWVudHMiLCJmaW5kUGF0aWVudEJ5SWQiLCJ1cGRhdGVQYXRpZW50IiwiZGVsZXRlUGF0aWVudCIsImNyZWF0ZVByb2NlZHVyZSIsInByb2NlZHVyZSIsImZpbmRBbGxQcm9jZWR1cmVzIiwiZmluZFByb2NlZHVyZUJ5SWQiLCJ1cGRhdGVQcm9jZWR1cmUiLCJkZWxldGVQcm9jZWR1cmUiLCJjcmVhdGVQcm9kdWN0IiwicHJvZHVjdCIsImZpbmRBbGxQcm9kdWN0cyIsImZpbmRQcm9kdWN0QnlJZCIsInVwZGF0ZVByb2R1Y3QiLCJkZWxldGVQcm9kdWN0IiwiY3JlYXRlQXBwb2ludG1lbnQiLCJhcHBvaW50bWVudCIsImZpbmRBbGxBcHBvaW50bWVudHMiLCJhcHBvaW50bWVudHMiLCJwYXRpZW50SWQiLCJ1bmRlZmluZWQiLCJwcm9jZWR1cmVJZCIsInVzZXJJZCIsImZpbmRBcHBvaW50bWVudEJ5SWQiLCJ1cGRhdGVBcHBvaW50bWVudCIsImRlbGV0ZUFwcG9pbnRtZW50IiwiY3JlYXRlVHJlYXRtZW50IiwidHJlYXRtZW50IiwiZmluZEFsbFRyZWF0bWVudHMiLCJ0cmVhdG1lbnRzIiwiZmluZFRyZWF0bWVudEJ5SWQiLCJ1cGRhdGVUcmVhdG1lbnQiLCJkZWxldGVUcmVhdG1lbnQiLCJjcmVhdGVGaW5hbmNpYWxSZWNvcmQiLCJyZWNvcmQiLCJmaW5kQWxsRmluYW5jaWFsUmVjb3JkcyIsInJlY29yZHMiLCJmaW5kRmluYW5jaWFsUmVjb3JkQnlJZCIsInVwZGF0ZUZpbmFuY2lhbFJlY29yZCIsImRlbGV0ZUZpbmFuY2lhbFJlY29yZCIsImNyZWF0ZVN0b2NrTW92ZW1lbnQiLCJtb3ZlbWVudCIsIm5ld01vdmVtZW50IiwicHJvZHVjdElkIiwicXVhbnRpdHlDaGFuZ2UiLCJ0eXBlIiwicXVhbnRpdHkiLCJjdXJyZW50U3RvY2siLCJmaW5kQWxsU3RvY2tNb3ZlbWVudHMiLCJtb3ZlbWVudHMiLCJmaW5kU3RvY2tNb3ZlbWVudEJ5SWQiLCJjbGVhckFsbERhdGEiLCJPYmplY3QiLCJ2YWx1ZXMiLCJmb3JFYWNoIiwicmVtb3ZlSXRlbSIsImV4cG9ydERhdGEiLCJmcm9tRW50cmllcyIsImVudHJpZXMiLCJuYW1lIiwidG9Mb3dlckNhc2UiLCJpbXBvcnREYXRhIiwianNvbkRhdGEiLCJsb3dlck5hbWUiLCJkYiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/localStorage.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/next-auth","vendor-chunks/@babel","vendor-chunks/jose","vendor-chunks/openid-client","vendor-chunks/bcryptjs","vendor-chunks/oauth","vendor-chunks/object-hash","vendor-chunks/preact","vendor-chunks/uuid","vendor-chunks/yallist","vendor-chunks/preact-render-to-string","vendor-chunks/lru-cache","vendor-chunks/@panva","vendor-chunks/oidc-token-hash"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdashboard%2Fstats%2Froute&page=%2Fapi%2Fdashboard%2Fstats%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdashboard%2Fstats%2Froute.ts&appDir=C%3A%5CUsers%5CRafael%5COneDrive%5CProjetos%5CClinicaEstetica%5Capp%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CRafael%5COneDrive%5CProjetos%5CClinicaEstetica%5Capp&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();